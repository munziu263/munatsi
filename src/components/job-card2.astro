---
import { Picture } from "@astrojs/image/components";
const { jobTitle, company, achievements, startDate, endDate, image, link } =
  Astro.props;
---

<div class="flex flex-col ">
  <a
    href={link}
    class="relative block bg-default overflow-hidden rounded-lg border p-4 sm:p-6 lg:p-8 bg-offset shadow-xl"
  >
    <span
      class="absolute inset-x-0 bottom-0 h-2 bg-gradient-to-r from-primary via-accent to-secondary"
    ></span>

    <div class="sm:flex sm:justify-between sm:gap-4">
      <div>
        <h3 class="font-bold text-default text-md sm:text-lg">
          {jobTitle}
        </h3>

        <p class="mt-1 font-medium text-offset text-xs">{company}</p>
      </div>

      <div class="hidden sm:block sm:shrink-0">
        <Picture
          {...image}
          class="h-16 w-16 rounded-lg bg-white object-cover shadow-sm"
        />
      </div>
    </div>

    <dl class="flex gap-4 sm:gap-6">
      <div class="flex flex-col-reverse">
        <dt class="font-medium text-default text-xs">{startDate}</dt>
        <dd class="text-offset text-xs">Start Date</dd>
      </div>

      <div class="flex flex-col-reverse">
        <dt class="font-medium text-default text-xs">{endDate}</dt>
        <dd class="text-offset text-xs">End Date</dd>
      </div>
    </dl>
    {
      achievements.map((text: string, index: number) => (
        <div class="mt-4">
          <p class="max-w-[40ch] text-default text-xs">{text}</p>
        </div>
      ))
    }
  </a>
</div>
